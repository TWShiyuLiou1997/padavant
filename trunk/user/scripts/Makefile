include $(ROOTDIR)/rules.mk

PKG_NAME:=scripts

include $(INCLUDE_DIR)/package.mk

define Build/Prepare
	$(CP) ./files $(PKG_BUILD_DIR)/
    
    # ğŸŒŸ æ–°å¢ï¼šç§»é™¤ä¸éœ€è¦çš„è…³æœ¬
    # é€™äº›è…³æœ¬å·²ç¶“è¢«è¤‡è£½åˆ°è‡¨æ™‚æ§‹å»ºç›®éŒ„ (PKG_BUILD_DIR)ï¼Œç¾åœ¨å°‡å…¶åˆªé™¤ã€‚
    rm -f $(PKG_BUILD_DIR)/files/usr/bin/autostart.sh
    rm -f $(PKG_BUILD_DIR)/files/usr/bin/copyscripts.sh
    
	mkdir -p $(PKG_BUILD_DIR)/files/usr/share/terminfo
	tar -xzf ./terminfo.tar.gz -C $(PKG_BUILD_DIR)/files/usr/share
endef

define Build/Configure
endef

define Build/Compile
endef

$(eval $(call BuildPackage,scripts))

romfs:
	fakeroot ./makedevlinks $(ROMFSDIR)
	$(CP) $(PKG_BUILD_DIR)/files/* $(ROMFSDIR)/
ifneq ($(STORAGE_ENABLED),y)
	rm -f $(ROMFSDIR)/sbin/automount.sh
endif
ifndef CONFIG_BLK_DEV_SD
	rm -f $(ROMFSDIR)/sbin/hddtune.sh
	rm -f $(ROMFSDIR)/sbin/spindown.sh
endif
ifndef CONFIG_MTD_UBI
	rm -f $(ROMFSDIR)/sbin/rwfs2ubi.sh
endif
